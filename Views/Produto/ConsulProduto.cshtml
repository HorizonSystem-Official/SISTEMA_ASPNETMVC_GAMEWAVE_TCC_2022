@model IEnumerable<TCC_Sistema_Cliente_Jogos_2022.Models.Produto>

@{
    ViewBag.Title = "ConsulProduto";
}

@if (TempData["MensagemAviso"] != null)
{
    <div class="alert alert-success">
        @TempData["MensagemAviso"]
    </div>
}

<h2>Consulte nossos produtos</h2>
@using (Html.BeginForm("ConsulProduto", "Produto", FormMethod.Get))
{
    <div class="buscaGeral">
        <input id="spPesquia" name="spPesquia" placeholder="Procure um game" />
        <button type="submit">Buscar</button>
    </div>
}

@using (Html.BeginForm("ConsulProduto", "Produto", FormMethod.Get))
{
    <div class="buscaGeral">
        <input id="spProdTipo" name="spProdTipo" placeholder="Procure um tipo de game" />
        <button type="submit">Buscar</button>
    </div>
}


<p>
    @Html.ActionLink("Adicionar um novo Produto", "CadProduto")
</p>
<table class="table">

    @foreach (var item in Model)
    {
        <tr>
            <td>
                <img src="@Url.Content(item.ImgCapa)" width="250px" height="250px" />
                <br />
                <h2>@Html.DisplayFor(modelItem => item.ProdNome)</h2>
                <br />
                Categoria: @Html.DisplayFor(modelItem => item.ProdTipo)
                <br />
                Quantidade em estoque: @Html.DisplayFor(modelItem => item.ProdQtnEstoque)
                <br />
                Descrição: @Html.DisplayFor(modelItem => item.ProdDesc)
                <br />
                Ano de lançamento: @Html.DisplayFor(modelItem => item.ProdAnoLanc)
                <br />
                Classificação: @Html.DisplayFor(modelItem => item.ProdFaixaEtaria)
                <br />
                Preço: R$@Html.DisplayFor(modelItem => item.ProdValor)
                <br />

                @Html.ActionLink("Editar", "EdiProduto", new { codprod = item.CodProd }) |
                @Html.ActionLink("Ver mais", "DetalhesProduto", new { codprod = item.CodProd }) |
                @Html.ActionLink("Apagar", "DelProduto", new { codprod = item.CodProd, CPFCliente = User.Identity.Name })
            </td>

        </tr>
    }

</table>
